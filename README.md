# OrderingSys
网络订餐系统
此系统用董文强的个人做毕业设计使用
前端使用 bootstrap




 

本系统主要实现用户在网上浏览商家,进入商家后完成下订单.
商家可以收到用户的订单,并且可以查看以往订单已经销售记录.

一.用户功能块
1.登录
实现在主页登录,主页地址选择(目前只是可以选择)
登录在主页是一个模态框
输入错密码会有提示
2.注册,
进入注册页面按提示输入信息
注册功能中包含邮箱验证,用户名验证,均在后端完成验证
会给注册用户发送邮箱验证码
3.个人主页
个人主页显示用户的订单
有未送达的和已完成的两种
4.查看商家列表
列出商家的列表供用户选择
用户可以点击对应商家即跳转至商家的商品列表页面
5.查看商品列表
进入商家后可以看的商品的列表,可以进行添加购物车操作
6.下订单
用户可以点击购物车的结算按钮,即将当前已经添加进购物车的商品进行下订单操作

前端中是将各个被添加到购物车中的所有商品转换成JSON格式提交到后端
后端中将JSON转换成对应的订单实体类并进行下单处理
7登录拦截
对于未登录的用户,除主页与一些资源外均无法访问
当未登录用访问受保护的资源或url,均跳转至登录页面并提示登录,正常登录后即可访问

对于非商家的用户,在首页中点击商家会提示权限错误,普通用户无法访问商家管理资源
8修改密码
所有用户在登录后可以进行修改密码操作
修改密码需要通过邮箱验证
忘记密码是在登录页面的左下脚有个忘记密码链接,点击后按提示操作
二.商家功能块
1.管理商品列表
商家可以查看当前可用状态的商品,
可以移除商品
可以添加商品
2.查看订单列表
查看当前订单列表
列出了所有订单,并根据订单状态进行排序
3.接单
商家在订单列表显示所有订单
点击订单中的查看详情即显示订单的详细情况
对于未接单的订单可以点击接单按钮,即完成接单操作
 
数据库设计
1.	实体表

 


 
用户表
 
用户详细信息表
 
商家表
 
食物商品表
 
商品订单表
 
商品销售记录表
 
地区表
 
2.视图

商品销售汇总视图
表字段:  包括 商品所有信息及对应商品销售表中所出售总和
SQL语句
 DROP VIEW IF EXISTS `food_view`;
 CREATE VIEW food_view AS
 SELECT f.* , IFNULL(SUM(fs.count),0) AS COUNT FROM food f LEFT JOIN food_sales fs ON f.id=fs.food_id   GROUP BY f.id;


 
实现所使用技术
前端
HTML 页面结构
CSS,bootstrap 页面样式
JavaScript,jQuery  前端页面脚本,用来处理页面的显示和一些Ajax提交和后端交互
后端
JAVA 1.8
Spring Boot 2.0
Mybatis
Java的持久层框架。
thymeleaf
一个生成前端页面的模板引擎
spring security 
安全框架,用来进行登录拦截验证
spring email
收发邮件
pagehelper
一个在github上国人写的基于代理的mybatis分页组件
数据库
Mysql5.7

 
项目结构说明
 

