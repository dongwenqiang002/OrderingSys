<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<div class="modal fade" id="addModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content text-center">
            <div class="modal-header">
                <button type="button" id="close" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title text-info" id="myModalLabel">用户详细信息管理</h4>
            </div>
            <div class="modal-body">
                <form id="add_asset_form" class="form-horizontal" action="/admin/user/updata" method="post" role="form" >
                    <input hidden="hidden" th:value="${user.id}" name="id">
                    <div class="form-group">
                        <label  class="col-sm-2 control-label">用户名</label>
                        <div class="col-sm-8">
                            <input name="username"  th:value="${user.username}" type="text" class="form-control"  placeholder="用户名">
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-sm-2 control-label">年龄</label>
                        <div class="col-sm-8">
                            <input name="age" th:value="${user.age}" class="form-control" type="number" placeholder="年龄" >
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">性别</label>
                        <div class=" col-sm-4">
                            <select class="form-control" name="sex" th:value="${user.sex}">
                                <option>女</option>
                                <option>男</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">用户权限</label>
                        <div class=" col-sm-5">
                            <select class="form-control" name="role" th:value="${user.role}">
                                <option>普通用户</option>
                                <option>管理员</option>
                                <option>商铺</option>
                            </select>

                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">真实姓名</label>
                        <div class="col-sm-8">
                            <input name="name" th:value="${user.name}" class="form-control" type="tel" placeholder="电话" >
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">地址</label>
                        <div class="col-sm-8">
                            <input name="address" th:value="${user.address}" class="form-control" type="text" placeholder="地址"  >

                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">电子邮箱</label>
                        <div class="col-sm-8">
                            <input name="email" th:value="${user.email}" class="form-control"  type="text" placeholder="电子邮箱">

                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">电话</label>
                        <div class="col-sm-8">
                            <input name="phone" th:value="${user.phone}" class="form-control" type="tel" placeholder="电话" >
                        </div>
                    </div>




                </form>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                <button id="add_submit" type="button" class="btn btn-primary">提交更改</button>
            </div>

            <script>
                /**
                 * 异步提交,不刷新页面
                 * */
                $("#add_submit").click(function () {

                    $("#add_asset_form").ajaxSubmit(function (d) {
                        alert("修改成功");
                        $("#addModal").modal('hide');
                        $('#addModal').on('hidden.bs.modal', function () {
                           pageChange(0);
                        })

                    });

                });


               $(".form-group select").each(function () {
                    $(this).val($(this).attr("value"));
                });

            </script>

        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>

